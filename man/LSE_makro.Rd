% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/LSE_makro.R
\name{LSE_makro}
\alias{LSE_makro}
\title{LSE Macro Variance Estimation}
\usage{
LSE_makro(
  data,
  value_col = "mbls",
  weight_col = "gewibgrs",
  company_col = "entid_n",
  company_size_col = "anzlohn",
  thi_col = "thi",
  th_col = "th",
  nrep_col = "nrep",
  street_col = "stra_n",
  group1_col = "gr",
  group2_col = "nog_2_08_pub",
  quant = 0.5
)
}
\arguments{
\item{data}{A \code{data.frame} containing at least:
\itemize{
\item \code{mbls}   - outcome variable
\item \code{gewibgrs} - weights
\item \code{entid_n} - entity identifier
\item \code{thi}, \code{anzlohn}, \code{stra_n} - stratification vars
}}

\item{quant}{Numeric scalar. Quantile to estimate (default = 0.5 = median).}
}
\value{
A \code{data.frame} with aggregated statistics, including:
\itemize{
\item \code{median} - weighted median
\item \code{CV_sync95} - coefficient of variation
\item \code{b_i95}, \code{b_s95} - lower/upper confidence bounds
\item \code{vari} - variance estimate
}
}
\description{
Calculates macro-level variance estimates, confidence intervals,
and coefficient of variation (CV) based on weighted medians.
}
\examples{
\dontrun{
library(dplyr)
set.seed(123)
df <- data.frame(
  mbls = rnorm(100, mean = 50, sd = 10),
  gewibgrs = runif(100, 1, 5),
  entid_n = rep(1:20, each = 5),
  thi = sample(0:1, 100, replace = TRUE),
  anzlohn = sample(2:10, 100, replace = TRUE),
  stra_n = rep(letters[1:5], each = 20)
)
LSE_makro(quant = 0.5, data = df)
}
}
